(this.webpackJsonplogin=this.webpackJsonplogin||[]).push([[0],{33:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t);var a=n(4),s=n.n(a),c=n(27),r=n.n(c),i=(n(33),n(15)),o=n(24),l=o.a.initializeApp({apiKey:"AIzaSyAphE-FCaVO_ZnWNhowYov_uwenmhkJTBs",authDomain:"login-cf917.firebaseapp.com",projectId:"login-cf917",storageBucket:"login-cf917.appspot.com",messagingSenderId:"583756460508",appId:"1:583756460508:web:5f6b3f07c0163800549f19"}),u=o.a.firestore(),j=n(17),d=n(8),h=n(2);var b=function(e){e.user,e.setUser;var t=e.email,n=e.setEmail,a=e.emailError,s=e.password,c=e.setPassword,r=e.passwordError,i=e.handleLogin,o=e.handleSignup,l=(e.handleLogout,e.hasAccount),u=e.setHasAccount,b=e.name,O=e.setName,m=function(e){n(e.target.value)},g=function(e){c(e.target.value)},p=function(e){return o(),alert("user created"),O("")},x=function(e){return O(e.target.value)};return Object(h.jsx)(j.a,{children:Object(h.jsx)(d.c,{children:Object(h.jsx)(d.a,{path:"/Signup",exact:!0,render:function(){return Object(h.jsx)("section",{className:"login",children:Object(h.jsxs)("div",{className:"loginContainer",children:[Object(h.jsx)("label",{children:" Name"}),Object(h.jsx)("input",{type:"text",required:!0,autoFocus:!0,value:b,placeholder:"firstname & surname",onChange:x}),Object(h.jsx)("label",{children:"Email"}),Object(h.jsx)("input",{type:"email",required:!0,value:t,onChange:m}),Object(h.jsx)("p",{className:"errorMsg",children:a}),Object(h.jsx)("label",{children:"Password"}),Object(h.jsx)("input",{type:"password",required:!0,value:s,onChange:g}),Object(h.jsx)("div",{className:"errorMsg",children:r}),Object(h.jsx)("div",{className:"btnContainer",children:l?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{onClick:i,children:"Login"}),Object(h.jsxs)("p",{children:["Don't have an account ?",Object(h.jsx)("span",{onClick:function(){return u(!l)},children:"Sign up"})]})]}):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{onClick:p,children:"Sign Up"}),Object(h.jsxs)("p",{children:["Have an account",Object(h.jsx)(j.b,{to:"/",className:"link",onClick:function(){return u(!l)},children:"Login"})]})]})})]})})}})})})};var O=function(e){var t=e.user,n=e.setUser,a=e.email,s=e.setEmail,c=e.emailError,r=e.password,i=e.setPassword,o=e.passwordError,l=e.handleLogin,u=e.handleSignup,O=e.handleLogout,m=e.hasAccount,g=e.setHasAccount,p=e.name,x=e.setName,f=function(e){s(e.target.value)},v=function(e){i(e.target.value)},w=function(e){return u(),alert("user created")};return Object(h.jsxs)("div",{children:[m?Object(h.jsx)(j.a,{children:Object(h.jsx)(d.c,{children:Object(h.jsx)(d.a,{exact:!0,render:function(){return Object(h.jsx)("section",{className:"login",children:Object(h.jsxs)("div",{className:"loginContainer",children:[Object(h.jsx)("label",{children:"Email"}),Object(h.jsx)("input",{type:"email",required:!0,value:a,onChange:f}),Object(h.jsx)("p",{className:"errorMsg",children:c}),Object(h.jsx)("label",{children:"Password"}),Object(h.jsx)("input",{type:"password",required:!0,value:r,onChange:v}),Object(h.jsx)("p",{className:"errorMsg",children:o}),Object(h.jsx)("div",{className:"btnContainer",children:m?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{onClick:l,children:"Login"}),Object(h.jsxs)("p",{children:["Don't have an account ?",Object(h.jsx)(j.b,{to:"/signup",className:"link",onClick:function(){return g(!m)},children:"Sign up"})]})]}):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{onClick:w,children:"Sign Up"}),Object(h.jsxs)("p",{children:["Have an account",Object(h.jsx)("span",{onClick:function(){return g(!m)},children:"Login"})]})]})})]})})}})})}):Object(h.jsx)(b,{user:t,setUser:n,email:a,setEmail:s,emailError:c,password:r,setPassword:i,passwordError:o,handleLogin:l,handleSignup:u,handleLogout:O,hasAccount:m,setHasAccount:g,name:p,setName:x}),o]})};var m=function(e){var t=e.handleLogout,n=(e.user,e.name);return Object(h.jsx)("section",{className:"hero",children:Object(h.jsxs)("nav",{children:[Object(h.jsxs)("h2",{children:["Welcome ",n]}),Object(h.jsx)("button",{onClick:t,children:"Logout"})]})})};n(42);var g=function(){var e=Object(a.useState)(""),t=Object(i.a)(e,2),n=t[0],s=t[1],c=Object(a.useState)(""),r=Object(i.a)(c,2),o=r[0],j=r[1],d=Object(a.useState)(""),b=Object(i.a)(d,2),g=b[0],p=b[1],x=Object(a.useState)(""),f=Object(i.a)(x,2),v=f[0],w=f[1],C=Object(a.useState)(""),N=Object(i.a)(C,2),S=N[0],E=N[1],k=Object(a.useState)(""),A=Object(i.a)(k,2),L=A[0],y=A[1],P=Object(a.useState)(!0),U=Object(i.a)(P,2),F=U[0],H=U[1],I=function(){p(""),E(""),s("")},q=function(){l.auth().signOut(),I()};return Object(a.useEffect)((function(){l.auth().onAuthStateChanged((function(e){e?(I(),u.collection("users").doc(e.uid).get().then((function(e){return s(e.data().name)})),j(e)):j("")}))}),[]),Object(h.jsx)("div",{className:"App",children:o?Object(h.jsx)(m,{handleLogout:q,user:o,email:g,name:n}):Object(h.jsx)(O,{user:o,setUser:j,email:g,setEmail:p,emailError:v,password:S,setPassword:E,passwordError:L,handleLogin:function(){w(""),y(""),l.auth().signInWithEmailAndPassword(g,S).catch((function(e){switch(e.code){case"auth/invalid-email":case"auth/user-disabled":case"auth/user-not-found":w(e.message);break;case"auth/wrong-password":y(e.message),console.log(e.message)}}))},handleSignup:function(){I(),l.auth().createUserWithEmailAndPassword(g,S).then((function(e){u.collection("users").doc(e.user.uid).set({name:n})})).catch((function(e){switch(e.code){case"auth/email-already-in-use":case"auth/invalid-email":w(e.message);break;case"auth/weak-password":E(e.message)}}))},handleLogout:q,hasAccount:F,setHasAccount:H,name:n,setName:s})})};r.a.render(Object(h.jsx)(s.a.StrictMode,{children:Object(h.jsx)(g,{})}),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.0ffc54c1.chunk.js.map