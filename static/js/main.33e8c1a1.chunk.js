(this.webpackJsonplogin=this.webpackJsonplogin||[]).push([[0],{33:function(e,t,a){},42:function(e,t,a){},43:function(e,t,a){"use strict";a.r(t);var n=a(3),s=a.n(n),c=a(27),r=a.n(c),i=(a(33),a(14)),o=a(24),l=o.a.initializeApp({apiKey:"AIzaSyAphE-FCaVO_ZnWNhowYov_uwenmhkJTBs",authDomain:"login-cf917.firebaseapp.com",projectId:"login-cf917",storageBucket:"login-cf917.appspot.com",messagingSenderId:"583756460508",appId:"1:583756460508:web:5f6b3f07c0163800549f19"}),u=o.a.firestore(),d=a(17),j=a(8),h=a(4);var b=function(e){var t=e.loading,a=e.email,n=e.setEmail,s=e.emailError,c=e.password,r=e.setPassword,i=e.passwordError,o=e.handleLogin,l=(e.handleSignup,e.hasAccount),u=e.setHasAccount;return Object(h.jsx)("div",{className:t?"go":"di",children:Object(h.jsx)("section",{className:"login ",children:Object(h.jsxs)("div",{className:"loginContainer",children:[Object(h.jsx)("label",{children:"Email"}),Object(h.jsx)("input",{type:"email",required:!0,value:a,onChange:function(e){n(e.target.value)}}),Object(h.jsx)("p",{className:"errorMsg",children:s}),Object(h.jsx)("label",{children:"Password"}),Object(h.jsx)("input",{type:"password",required:!0,value:c,onChange:function(e){r(e.target.value)}}),Object(h.jsx)("p",{className:"errorMsg",children:i}),Object(h.jsxs)("div",{className:"btnContainer",children:[Object(h.jsx)("button",{onClick:o,children:"Login"}),Object(h.jsxs)("p",{children:["Don't have an account ?",Object(h.jsx)(d.b,{to:"/Signin",className:"link",onClick:function(){return u(!l)},children:"Sign up"})]})]})]})})})};var m=function(e){var t=e.email,a=e.setEmail,n=e.emailError,s=e.password,c=e.setPassword,r=e.passwordError,i=(e.handleLogin,e.handleSignup),o=e.hasAccount,l=e.setHasAccount,u=e.name,j=e.setName;return Object(h.jsx)("section",{className:"login",children:Object(h.jsxs)("div",{className:"loginContainer",children:[Object(h.jsx)("label",{children:" Name"}),Object(h.jsx)("input",{type:"text",required:!0,autoFocus:!0,value:u,placeholder:"firstname & surname",onChange:function(e){return j(e.target.value)}}),Object(h.jsx)("label",{children:"Email"}),Object(h.jsx)("input",{type:"email",required:!0,value:t,onChange:function(e){a(e.target.value)}}),Object(h.jsx)("p",{className:"errorMsg",children:n}),Object(h.jsx)("label",{children:"Password"}),Object(h.jsx)("input",{type:"password",required:!0,value:s,onChange:function(e){c(e.target.value)}}),Object(h.jsx)("div",{className:"errorMsg",children:r}),Object(h.jsxs)("div",{className:"btnContainer",children:[Object(h.jsx)("button",{onClick:function(e){return i(),alert("user created"),j("")},children:"Sign Up"}),Object(h.jsxs)("p",{children:["Have an account",Object(h.jsx)(d.b,{to:"/",className:"link",onClick:function(){return l(!o)},children:"Login"})]})]})]})})};var g=function(e){var t=e.handleLogout,a=(e.user,e.name);return Object(h.jsx)("section",{className:"hero",children:Object(h.jsxs)("nav",{children:[Object(h.jsxs)("h2",{children:["Welcome ",a]}),Object(h.jsx)("button",{onClick:t,children:"Logout"})]})})};a(42);var O=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),a=t[0],s=t[1],c=Object(n.useState)(""),r=Object(i.a)(c,2),o=r[0],O=r[1],p=Object(n.useState)(""),x=Object(i.a)(p,2),f=x[0],v=x[1],w=Object(n.useState)(""),N=Object(i.a)(w,2),S=N[0],E=N[1],C=Object(n.useState)(""),A=Object(i.a)(C,2),k=A[0],L=A[1],y=Object(n.useState)(""),P=Object(i.a)(y,2),I=P[0],q=P[1],H=Object(n.useState)(!0),M=Object(i.a)(H,2),U=M[0],W=M[1],B=Object(n.useState)(!1),J=Object(i.a)(B,2),z=J[0],D=J[1],F=function(){v(""),L(""),s("")},_=function(){E(""),q(""),l.auth().signInWithEmailAndPassword(f,k).catch((function(e){switch(e.code){case"auth/invalid-email":case"auth/user-disabled":case"auth/user-not-found":E(e.message);break;case"auth/wrong-password":q(e.message),console.log(e.message)}}))},K=function(){F(),l.auth().createUserWithEmailAndPassword(f,k).then((function(e){u.collection("users").doc(e.user.uid).set({name:a})})).catch((function(e){switch(e.code){case"auth/email-already-in-use":case"auth/invalid-email":E(e.message);break;case"auth/weak-password":L(e.message)}}))},T=function(){l.auth().signOut(),F()};return Object(n.useEffect)((function(){return D(!0),void l.auth().onAuthStateChanged((function(e){e?(F(),u.collection("users").doc(e.uid).get().then((function(e){return s(e.data().name)})),O(e),D(!1)):(O(""),D(!1))}))}),[]),Object(h.jsx)(d.a,{children:Object(h.jsx)("div",{className:"App",children:o?Object(h.jsx)(g,{handleLogout:T,user:o,email:f,name:a}):U?Object(h.jsx)(j.c,{children:Object(h.jsx)(j.a,{path:"/",exact:!0,children:Object(h.jsx)(b,{loading:z,user:o,setUser:O,email:f,setEmail:v,emailError:S,password:k,setPassword:L,passwordError:I,handleLogin:_,handleSignup:K,handleLogout:T,hasAccount:U,setHasAccount:W,name:a,setName:s})})}):Object(h.jsx)(j.a,{path:"/Signin",exact:!0,children:Object(h.jsx)(m,{user:o,setUser:O,email:f,setEmail:v,emailError:S,password:k,setPassword:L,passwordError:I,handleLogin:_,handleSignup:K,handleLogout:T,hasAccount:U,setHasAccount:W,name:a,setName:s})})})})};r.a.render(Object(h.jsx)(s.a.StrictMode,{children:Object(h.jsx)(O,{})}),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.33e8c1a1.chunk.js.map